///////////////////////////////////////////////////////////////////////////////
/******************************************************************************
	Project			ZMediaServer
	ZSessionMessage	Header File
	Create			20120221		ZHAOTT		SESSION
******************************************************************************/
///////////////////////////////////////////////////////////////////////////////
#ifndef	_ZSESSIONMESSAGE_H_
#define	_ZSESSIONMESSAGE_H_
///////////////////////////////////////////////////////////////////////////////
#include "ZSession.h"
#include "ZSessionStream.h"
///////////////////////////////////////////////////////////////////////////////
class	ZSession;
class	ZSessionStream;
class	ZSessionMessage;
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
class ZRequest
{
public:
	virtual ~ZRequest() = 0;
///////////////////////////////////////////////////////////////////////////////
public:
	virtual	int		SendRequest(DWORD nMethod)						= 0;
	virtual	int		ReadRequest()									= 0;
	virtual	int		CleanRequest()									= 0;
///////////////////////////////////////////////////////////////////////////////
};
///////////////////////////////////////////////////////////////////////////////
class ZResponse
{
public:
	virtual ~ZResponse() = 0;
///////////////////////////////////////////////////////////////////////////////
public:
	virtual	int		SendResponse(DWORD nMethod,BOOL bClose = FALSE)	= 0;
	virtual	int		ReadResponse()									= 0;
///////////////////////////////////////////////////////////////////////////////
};
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
class ZSessionMessage : public ZObject
{
///////////////////////////////////////////////////////////////////////////////
public:
	ZSessionMessage(ZSession* pSession,ZSessionStream* pSessionStream);
	virtual	~ZSessionMessage();
///////////////////////////////////////////////////////////////////////////////
public:
	virtual	void	SetSession(ZSession* pSession);
	virtual	void	SetSessionStream(ZSessionStream* pSessionStream);
///////////////////////////////////////////////////////////////////////////////
public:
	virtual	DWORD	GetMethod();
///////////////////////////////////////////////////////////////////////////////
protected:
	ZSession*			m_pSession;
	ZSessionStream*		m_pSessionStream;
///////////////////////////////////////////////////////////////////////////////
protected:
	DWORD				m_nMethod;
///////////////////////////////////////////////////////////////////////////////
};
///////////////////////////////////////////////////////////////////////////////
#endif	//_ZSESSIONMESSAGE_H_
///////////////////////////////////////////////////////////////////////////////
