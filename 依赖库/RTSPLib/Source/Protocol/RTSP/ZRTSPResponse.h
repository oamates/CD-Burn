///////////////////////////////////////////////////////////////////////////////
/******************************************************************************
	Project			ZMediaServer
	ZRTSPResponse	Header File
	Create			20100729		ZHAOTT		RTSP
	Modify			20110602		ZHAOTT		RTCP
	Modify			20110708		ZHAOTT		RTP Over RTSP
******************************************************************************/
///////////////////////////////////////////////////////////////////////////////
#ifndef	_ZTSPRESPONSE_H_
#define	_ZTSPRESPONSE_H_
///////////////////////////////////////////////////////////////////////////////
#include "ZRTSPProtocol.h"
#include "ZRTSPMessage.h"
///////////////////////////////////////////////////////////////////////////////
class	ZHeaderParser;
class	ZRTSPSession;
class	ZRTSPResponse;
///////////////////////////////////////////////////////////////////////////////
class ZRTSPResponse : public ZRTSPMessage , public ZResponse
{
///////////////////////////////////////////////////////////////////////////////
public:
	ZRTSPResponse(ZSession* pSession,ZSessionStream* pStream);
	virtual ~ZRTSPResponse();
///////////////////////////////////////////////////////////////////////////////
public:
	virtual	int		SendResponse(DWORD nMethod,BOOL bClose = FALSE);
	virtual	int		ReadResponse();
///////////////////////////////////////////////////////////////////////////////
protected:
	virtual	BOOL	ParseFirstLine(ZHeaderParser* pHeader);
///////////////////////////////////////////////////////////////////////////////
protected:
	virtual	void	GetFirstLine(char*);
	virtual	void	GetEndLine(char*);
///////////////////////////////////////////////////////////////////////////////
public:
	friend	class	ZRTSPSession;
///////////////////////////////////////////////////////////////////////////////
};
///////////////////////////////////////////////////////////////////////////////
#endif	//_ZTSPRESPONSE_H_
///////////////////////////////////////////////////////////////////////////////
